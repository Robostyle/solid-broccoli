@import 'common';

/**!brief CSS properties for a button.
 *
 * A button can be flat or raised. With interactive true, hover, active and
 * optional focusable can be set.
 */
@mixin button(
    $flat: false,
    $interactive: true,
    $radii: $radii,
    $focusable: false
) {
    border-radius: $radii;
    color: $text;

    @if $flat {
        background-color: transparent;
        box-shadow: none;
    } @else {
        background-color: $surface1;
        box-shadow: inset 0 0 0 $border_width $border_color;
    }

    @if $interactive {
        @if $focusable {
            &:focus {
                box-shadow: inset 0 0 0 $border_width $accent;
                background-color: $hover;
                color: $hover_fg;
            }
        }

        &:hover {
            box-shadow: inset 0 0 0 $border_width $border_color;
            background-color: $hover;
            color: $text;
        }

        &:active {
            box-shadow: inset 0 0 0 $border_width $border_color;
            background-color: $blue;
            color: $text;
        }
    }
}

/**!brief Styling for system indicaters, e.g. battery, etc.
 *
 *
 */
@mixin system-indicators() {
    @include button($flat: false, $radii: $panel_button_radius);

    .reveal {
        padding-left: 0.2em;
    }

    .slider {
        @include slider($width: 1em, $slider: false);
        > * {
            min-width: 90px;
        }
    }

    .icon {
        margin: 0.1em 0;

        &.battery {
            &.low {
                color: $red;
            }

            &.charging {
                color: $green;
            }

            &.charged {
                color: $green;
            }
        }
    }
}

/**!brief
 *
 */
@mixin slider($width: 0.4em, $color: $blue, $slider: true, $focusable: false) {
    trough {
        border-radius: $button_radius;
        border: $border;
        background-color: $red;
        min-height: $width;
        min-width: $width;

        highlight,
        progress {
            border-radius: $popover_radius * 0.8;
            background-color: $color;
            min-height: $width;
            min-width: $width;
        }

        slider {
            @if $slider {
                background-color: $fg_color;
                border-radius: $button_radius;
                border: $border;
                min-height: $width;
                min-width: $width;
            }
        }
    }

    &:hover trough {
        background-color: $hover;
    }

    @if $focusable {
        trough:focus {
            background-color: $hover;
            box-shadow: inset 0 0 0 $border_width $accent;
            highlight,
            progress {
                background-color: transparentize($color, 0.3);
            }
        }
    }
}
